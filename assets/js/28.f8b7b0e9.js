(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{412:function(e,a,t){"use strict";t.r(a);var o=t(42),s=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"map-downloads"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#map-downloads"}},[e._v("#")]),e._v(" Map downloads")]),e._v(" "),t("p",[e._v("These two words carry a lot of meaning, so we'll get right to it!")]),e._v(" "),t("h2",{attrs:{id:"for-the-players"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-the-players"}},[e._v("#")]),e._v(" For the players")]),e._v(" "),t("p",[e._v("Players have wished for downloadable maps for a long time. This release brings them to Tomatenquark!\nYou can now play old content from Sauerbraten, and custom content from content creators alike.")]),e._v(" "),t("p",[e._v("Please bear with developers. This is a technical preview, bugs may occur, the game may crash. Reporting to us is appreciated!")]),e._v(" "),t("p",[e._v("It will also take a while before content creators can adopt old content for the new system, so not all maps may be available out of the box.")]),e._v(" "),t("h2",{attrs:{id:"for-content-creators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-content-creators"}},[e._v("#")]),e._v(" For content creators")]),e._v(" "),t("p",[e._v("You have a awesome map, but it uses custom textures, sounds, models?\nThis update is for you! You can now ship your custom content using the assetbundler.")]),e._v(" "),t("p",[e._v("To do so, please make extensive use of the "),t("code",[e._v("map.cfg")]),e._v(" file. If you declare a texture using:")]),e._v(" "),t("p",[t("code",[e._v("texture n mytexture")])]),e._v(" "),t("p",[e._v("It will be declared as a download for the game, and the player will automatically download these textures.")]),e._v(" "),t("p",[e._v("Please make sure you use "),t("code",[e._v("texturereset")]),e._v(", as the default textures may not always be available.")]),e._v(" "),t("h3",{attrs:{id:"from-mmodel-to-mmodelfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#from-mmodel-to-mmodelfile"}},[e._v("#")]),e._v(" From "),t("code",[e._v("mmodel")]),e._v(" to "),t("code",[e._v("mmodelfile")])]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("mmodel")]),e._v(" file is huge pain. Sauerbraten can load multiple model files. Which one will the "),t("code",[e._v("mmodel")]),e._v(" load? IQM? MD5?")]),e._v(" "),t("p",[e._v("To deal with this, we have introduced the "),t("code",[e._v("mmodelfile")]),e._v(" command.")]),e._v(" "),t("p",[e._v("From now on please declare your models like so:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("exec dcp/blade_x/obj.cfg\nmmodelfile dcp/blade_x/model.obj\nmmodel dcp/blade_x\n")])])]),t("p",[e._v("This will tell the game to:")]),e._v(" "),t("ul",[t("li",[e._v("load the config specified in "),t("code",[e._v("dcp/blade_x")]),e._v(" and all of it's declared contents")]),e._v(" "),t("li",[e._v("load the model file "),t("code",[e._v("model.obj")])]),e._v(" "),t("li",[e._v("finally load the map model "),t("code",[e._v("dcp/blade_x")]),e._v(" with all of its dependencies")])]),e._v(" "),t("p",[e._v("In the future we plan to add tools to make this easier for content creators, so that you wouldn't need to bother with config files in the first place.")]),e._v(" "),t("h2",{attrs:{id:"for-server-hosters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-server-hosters"}},[e._v("#")]),e._v(" For server hosters")]),e._v(" "),t("p",[e._v("To add downloads to your server please add the following to your "),t("code",[e._v("server-init.cfg")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("servercontent https://svn.code.sf.net/p/sauerbraten/code # valid HTTP address WITHOUT a backslash\n")])])]),t("p",[e._v("The address should be a valid HTTP or HTTPS server. The game will start looking for maps declared in the usual folder structure ("),t("code",[e._v("packages/base/map.cfg")]),e._v(").")]),e._v(" "),t("p",[e._v("Please be aware that you are responsible for the content being served.")]),e._v(" "),t("h2",{attrs:{id:"for-developers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-developers"}},[e._v("#")]),e._v(" For developers")]),e._v(" "),t("p",[t("code",[e._v("assetbundler")]),e._v(" serves as a initial step to make shipping maps (and media assets in general) easier.\nWe plan to go from "),t("code",[e._v("map.cfg")]),e._v(" to "),t("code",[e._v("map.json")]),e._v(", where one would declare the needed files. This will also allow for declaring dependencies on other maps, prefabs, models, etc.")]),e._v(" "),t("p",[e._v("Notably we have implemented a "),t("code",[e._v("go")]),e._v(" version of the assetbundler as well (next to the curl version).\nCheck it out on "),t("a",{attrs:{href:"https://github.com/tomatenquark/assetbundler",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub"),t("OutboundLink")],1),e._v(".\nIt is currently not being used (instead a "),t("code",[e._v("libcurl")]),e._v(" version is used) because "),t("code",[e._v("cgo")]),e._v(" and "),t("code",[e._v("MSVC")]),e._v(" don't like each other. As these issues are resolved we would like to offer a standalone tool to package maps. This makes it easier to reproduce and test outside of the game!")])])}),[],!1,null,null,null);a.default=s.exports}}]);